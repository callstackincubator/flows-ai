---
title: 'Best of all'
---

```mermaid
flowchart LR
    IN("IN") --> A["Agent 1"]
    IN --> B["Agent 2"]
    IN --> C["Agent 3"]
    A --> EVAL["Evaluator"]
    B -.-> EVAL
    C -.-> EVAL
    EVAL --> OUT
```

Use this flow to generate multiple alternatives and pick the best one.

<CodeGroup>

```ts flow.ts
const bestOfFlow = bestOfAll({
  criteria: 'Pick the response that is most helpful and concise'
  input: [
    {
      agent: 'responseAgent',
      input: 'Generate response version 1'
    },
    {
      agent: 'responseAgent',
      input: 'Generate response version 2'
    }
  ],
})
```

```ts agents.ts
const responseAgent =  agent({
  model: openai('gpt-4o'),
  system: 'You are consumer relations specialist...',
})
```

```ts main.ts
execute(bestOfFlow, {
  agents: {
    responseAgent
  }
})
```

</CodeGroup>
